# rasp-cam
В проекте будут возможности реализации одновременной сьёмки с нескольких камер. Рассматриваются как программные, так и аппаратные решения, а также алгоритмы решения типовых задач (устранение шумов, ориентирование камер, координация настроек мужду камерами)

## Интерфейсы для подключения камер к плате разработки Raspberry Pi CM4
Для подключения используется интерфейс MIPI CSI-2. На плате разработки присутствуют 2 порта CAM0 (активны 2 линии передачи, 2 линии отключены) и CAM1 (активны все 4 линии). 

Для подключения нескольких камер к одному разьёму CSI-2 и переключения между ними может быть использован мультиплексор MIPI:

![photo_2024-05-11_11-35-37](https://github.com/octolera/rasp-cam/assets/106665253/2dc750fb-822f-401f-a558-d2ee74365a6a)

На рынке присутствуют готовые решения с возможностью переключения камер (мультиплексоры arducam https://www.arducam.com/shop/?filters=camera-solution[116556] , IVPort https://ivmech.com/magaza/en/development-modules-c-4/ivport-v2-raspberry-pi-camera-module-v2-multiplexer-p-107), но стоимость и возможности доставки оставляют желать лучшего.

Недостатки мультиплексоров-переключателей MIPI заключаются в необходимости "отбрасывать" кадр при переключении камер. Присутствует задержка при переключении. Демонстрация мультиплексирования с помощью модуля ivMech: https://www.youtube.com/watch?v=KEbnxAWgLeo&t=38s&ab_channel=IvmechMekatronik

Также есть реализации с "склеиванием" изображения с нескольких камер в единый видеопоток (модуль ivMech) https://github.com/ivmech/ivport?tab=readme-ov-file . Задержка между камерами при подобной реализации минимальная, но страдает итоговое качество фото/видео
